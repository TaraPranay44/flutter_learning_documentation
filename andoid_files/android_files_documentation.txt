
android/
â”œâ”€â”€ .gradle/                          # Gradle cache (auto-generated)
â”‚   â”œâ”€â”€ 8.4/
â”‚   â”‚   â”œâ”€â”€ checksums/
â”‚   â”‚   â”œâ”€â”€ dependencies-accessors/
â”‚   â”‚   â”œâ”€â”€ executionHistory/
â”‚   â”‚   â”œâ”€â”€ fileChanges/
â”‚   â”‚   â”œâ”€â”€ fileHashes/
â”‚   â”‚   â””â”€â”€ vcsMetadata/
â”‚   â”œâ”€â”€ buildOutputCleanup/
â”‚   â””â”€â”€ vcs-1/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ kotlin/com/getpos/getpos/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MainActivity.kt    â­ App entry point
â”‚   â”‚   â”‚   â”œâ”€â”€ res/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mipmap-hdpi/      # 72x72 icons
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mipmap-mdpi/      # 48x48 icons
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mipmap-xhdpi/     # 96x96 icons
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mipmap-xxhdpi/    # 144x144 icons
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mipmap-xxxhdpi/   # 192x192 icons
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ drawable/         # Images, splash screens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ values/           # Strings, colors, styles
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ values-night/     # Dark mode overrides
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml   â­ App permissions & config
â”‚   â”‚   â”œâ”€â”€ debug/
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml   # Debug-specific settings
â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”‚       â””â”€â”€ AndroidManifest.xml   # Profile-specific settings
â”‚   â”‚
â”‚   â”œâ”€â”€ build.gradle                  â­ App-level build config
â”‚   â”œâ”€â”€ proguard-rules.pro            â­ Code obfuscation rules
â”‚   â””â”€â”€ .gitignore
â”‚
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ wrapper/
â”‚       â”œâ”€â”€ gradle-wrapper.jar        # Gradle downloader
â”‚       â””â”€â”€ gradle-wrapper.properties # Gradle version config
â”‚
â”œâ”€â”€ build.gradle                      â­ Project-level build config
â”œâ”€â”€ settings.gradle                   # Module inclusion
â”œâ”€â”€ gradle.properties                 # Global Gradle settings
â”œâ”€â”€ local.properties                  # SDK paths (gitignored)
â”œâ”€â”€ key.properties                    # Signing keys (gitignored)
â”œâ”€â”€ gradlew                           # Gradle script (Unix)
â”œâ”€â”€ gradlew.bat                       # Gradle script (Windows)
â””â”€â”€ .gitignore



Complete Android Files Documentation for Flutter Projects
ğŸ¯ Table of Contents

Introduction
Project Structure Overview
Gradle System
Build Configuration Files
Source Code Files
Manifest & Permissions
ProGuard & Code Protection
Signing & Security
Cache & Generated Files
Troubleshooting Guide


<div id="introduction"></div>
ğŸ“– Introduction
What is the Android Folder?
Think of the android/ folder as a translation layer between your Flutter app (written in Dart) and the Android operating system.
Simple Analogy:

Your Flutter app speaks "Dart" ğŸ—£ï¸
Android phones speak "Android/Kotlin" ğŸ“±
The android/ folder is the interpreter that helps them communicate

Why Do You Need It?

Native Features: Camera, GPS, Bluetooth need Android's native code
App Store Deployment: Google Play requires proper Android configuration
Permissions: Declare what your app needs (internet, camera, etc.)
Customization: App icons, splash screens, deep linking
Plugins: Flutter plugins use this folder to access native Android features


<div id="project-structure"></div>
ğŸ—‚ï¸ Project Structure Overview
your_flutter_app/
â”œâ”€â”€ android/                          â† We're exploring THIS!
â”‚   â”œâ”€â”€ gradle/                       â† Gradle wrapper files
â”‚   â”‚   â””â”€â”€ wrapper/
â”‚   â”‚       â”œâ”€â”€ gradle-wrapper.jar
â”‚   â”‚       â””â”€â”€ gradle-wrapper.properties
â”‚   â”œâ”€â”€ app/                          â† Your app's specific config
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ kotlin/          â† Kotlin source code
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com/getpos/getpos/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ MainActivity.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ res/             â† Resources (icons, images)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mipmap-*/   â† App icons
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ drawable-*/  â† Images
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ values/      â† Strings, colors
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â”‚   â”œâ”€â”€ debug/               â† Debug-specific config
â”‚   â”‚   â”‚   â””â”€â”€ profile/             â† Profile-specific config
â”‚   â”‚   â”œâ”€â”€ build.gradle             â† App-level build config
â”‚   â”‚   â””â”€â”€ proguard-rules.pro       â† Code obfuscation rules
â”‚   â”œâ”€â”€ build.gradle                 â† Project-level build config
â”‚   â”œâ”€â”€ settings.gradle              â† Project settings
â”‚   â”œâ”€â”€ gradle.properties            â† Gradle settings
â”‚   â”œâ”€â”€ local.properties             â† Local machine paths
â”‚   â”œâ”€â”€ key.properties               â† Signing keys (SECRET!)
â”‚   â”œâ”€â”€ gradlew                      â† Gradle wrapper (Linux/Mac)
â”‚   â””â”€â”€ gradlew.bat                  â† Gradle wrapper (Windows)
â”œâ”€â”€ lib/                              â† Your Flutter/Dart code
â””â”€â”€ pubspec.yaml                      â† Flutter dependencies
ğŸ¨ Visual Guide to File Types
IconTypeExamplesPurposeğŸ”§Build Toolsbuild.gradle, settings.gradleConfigure how app is builtğŸ“„Config FilesAndroidManifest.xml, gradle.propertiesDefine app settingsğŸ’»Source CodeMainActivity.ktYour app's entry pointğŸ¨Resourcesres/, icons, imagesVisual assetsğŸ—‚ï¸Cache.gradle/, build/Temporary build filesğŸ”Securitykey.properties, *.jksApp signing keys

<div id="gradle-system"></div>
âš™ï¸ The Gradle System
What is Gradle?
Gradle = The "construction foreman" that builds your Android app.
Real-World Analogy:
Building a House          Building an Android App
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Architect's Blueprint  â†’  build.gradle files
Construction Tools     â†’  Gradle software
Building Materials     â†’  Dependencies (libraries)
Foreman                â†’  Gradle Wrapper
Final House            â†’  APK file
Why Not Just Install Gradle?
Problem: Different team members might have different Gradle versions installed.
Solution: Gradle Wrapper - a small program that auto-downloads the correct version.

ğŸ“¦ Gradle Wrapper Files
1. gradle-wrapper.jar
Location: android/gradle/wrapper/gradle-wrapper.jar
What It Does

A tiny Java program (~60 KB)
Downloads and installs the correct Gradle version
Ensures everyone uses the same version

Real-World Analogy
Like a USB installer that downloads the right software version automatically.
When You'll See Errors
bashError: Could not find gradle-wrapper.jar
Fix:
bashcd android
flutter clean
flutter pub get
This regenerates the wrapper files.

2. gradle-wrapper.properties
Location: android/gradle/wrapper/gradle-wrapper.properties
What It Contains
propertiesdistributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-8.4-all.zip
Line-by-Line Explanation
LineMeaningExample ValuedistributionBaseWhere to store GradleGRADLE_USER_HOME (~/.gradle)distributionPathSubfolder for versionswrapper/distszipStoreBaseWhere to store downloadsSame as abovezipStorePathSubfolder for zipswrapper/distsdistributionUrlDownload linkGradle 8.4 full package
The Important Part
propertiesdistributionUrl=https\://services.gradle.org/distributions/gradle-8.4-all.zip
                                                                    â†‘
                                                            Version number
Changing Gradle Version:
properties# Old version (might be slow or incompatible)
distributionUrl=...gradle-7.0-all.zip

# New version (faster, more features)
distributionUrl=...gradle-8.4-all.zip
```

#### Common Errors

**Error 1: Network Issue**
```
Could not download Gradle distribution from 'https://services.gradle.org/...'
Causes:

No internet connection
Firewall blocking Gradle
Corrupted download

Fix:
bash# 1. Check internet connection
ping services.gradle.org

# 2. Delete corrupted cache
rm -rf ~/.gradle/wrapper/dists/gradle-8.4-all

# 3. Re-download
cd android
./gradlew --version
```

**Error 2: Version Mismatch**
```
Minimum supported Gradle version is 8.0. Current version is 7.5.
Fix:
Update gradle-wrapper.properties:
propertiesdistributionUrl=https\://services.gradle.org/distributions/gradle-8.4-all.zip

3. gradlew and gradlew.bat
Location:

android/gradlew (Mac/Linux)
android/gradlew.bat (Windows)

What They Do
Shell scripts that run Gradle commands without installing Gradle globally.
Common Commands
bash# Build debug APK
./gradlew assembleDebug

# Build release APK
./gradlew assembleRelease

# Clean build files
./gradlew clean

# Check dependencies
./gradlew dependencies

# Run tests
./gradlew test

# Install debug APK to connected device
./gradlew installDebug
Mac/Linux Permission Error
bashError: Permission denied: ./gradlew
Fix:
bashchmod +x gradlew
./gradlew assembleDebug
What chmod +x does: Makes the file executable (runnable).

<div id="build-files"></div>
ğŸ”§ Build Configuration Files

ğŸ“„ 1. build.gradle (Project-Level)
Location: android/build.gradle
Purpose: Master configuration for the ENTIRE project (all modules, all plugins).
Complete File with Explanations
gradle// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 1: BUILD SCRIPT CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
buildscript {
    // Global variables (reusable values)
    ext {
        kotlin_version = '1.9.22'     // Kotlin language version
        min_sdk_version = 21           // Minimum Android version
        compile_sdk_version = 34       // Compile against Android 14
        target_sdk_version = 34        // Target Android 14
    }
    
    // Where to download build tools from
    repositories {
        google()        // Google's Maven repo (Android, Firebase)
        mavenCentral()  // Community libraries
    }
    
    // Build tools needed
    dependencies {
        // Android Gradle Plugin (builds APK files)
        classpath 'com.android.tools.build:gradle:8.1.0'
        
        // Kotlin compiler
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
        
        // Google Services (Firebase, Maps, etc.)
        // classpath 'com.google.gms:google-services:4.4.0'
        
        // Crashlytics (crash reporting)
        // classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.9'
    }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 2: ALL PROJECTS CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
allprojects {
    repositories {
        google()
        mavenCentral()
        
        // Custom repository (if needed)
        // maven { url 'https://jitpack.io' }
    }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 3: ROOT PROJECT CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Where to put build outputs
rootProject.buildDir = '../build'

// Where each subproject puts its build files
subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
    
    // Evaluate project settings after configuration
    project.evaluationDependsOn(':app')
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 4: CLEANUP TASK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
tasks.register("clean", Delete) {
    delete rootProject.buildDir
}
Deep Dive: ext Variables
What ext Means:

ext = "extensions" = global variables
Available to ALL modules in the project

Example Usage:
gradle// Define in build.gradle (project)
ext {
    kotlin_version = '1.9.22'
    firebase_version = '32.7.0'
    retrofit_version = '2.9.0'
}

// Use in build.gradle (app)
dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    implementation "com.google.firebase:firebase-auth:$firebase_version"
    implementation "com.squareup.retrofit2:retrofit:$retrofit_version"
}
Benefits:

Change version once, updates everywhere
Easier to maintain
Prevents version conflicts

Deep Dive: Repositories
gradlerepositories {
    google()        // â† What does this do?
    mavenCentral()
}
```

**What Happens:**
```
1. You add: implementation 'com.google.firebase:firebase-auth:22.0.0'
   
2. Gradle searches:
   â”œâ”€ google() â†’ https://dl.google.com/dl/android/maven2/
   â”‚  â””â”€ Finds: com/google/firebase/firebase-auth/22.0.0/firebase-auth-22.0.0.aar
   â”‚     â””â”€ Downloads to: ~/.gradle/caches/modules-2/files-2.1/
   â”‚
   â””â”€ If not found, tries mavenCentral()
Custom Repository Example:
gradlerepositories {
    google()
    mavenCentral()
    
    // JitPack (for GitHub libraries)
    maven { url 'https://jitpack.io' }
    
    // Local repository
    maven { url '../local-repo' }
    
    // Private repository with credentials
    maven {
        url 'https://company.com/maven'
        credentials {
            username = project.findProperty("repoUser") ?: "default"
            password = project.findProperty("repoPassword") ?: "default"
        }
    }
}
Deep Dive: Dependencies (classpath)
gradledependencies {
    classpath 'com.android.tools.build:gradle:8.1.0'
}
```

**Dependency Anatomy:**
```
com.android.tools.build : gradle : 8.1.0
         â†“                   â†“        â†“
    Group ID            Artifact  Version
   (Publisher)          (Package) (Which)
Common Classpaths:
ClasspathPurposeWhen Neededcom.android.tools.build:gradleBuild Android appsAlwaysorg.jetbrains.kotlin:kotlin-gradle-pluginCompile Kotlin codeIf using Kotlincom.google.gms:google-servicesFirebase/Google Play ServicesIf using Firebasecom.google.firebase:firebase-crashlytics-gradleCrash reportingIf using Crashlyticscom.google.dagger:hilt-android-gradle-pluginDependency injectionIf using Hilt

ğŸ“„ 2. build.gradle (App-Level)
Location: android/app/build.gradle
Purpose: Configuration for YOUR SPECIFIC APP (package name, versions, libraries).
Complete File with Explanations
gradle// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 1: PLUGINS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
plugins {
    id "com.android.application"              // This is an Android app
    id "kotlin-android"                        // Uses Kotlin language
    id "dev.flutter.flutter-gradle-plugin"    // Flutter support
    
    // Optional plugins:
    // id "com.google.gms.google-services"     // Firebase
    // id "com.google.firebase.crashlytics"    // Crashlytics
    // id "kotlin-kapt"                         // Kotlin annotation processing
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 2: LOAD FLUTTER VERSION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
def localProperties = new Properties()
def localPropertiesFile = rootProject.file('local.properties')
if (localPropertiesFile.exists()) {
    localPropertiesFile.withReader('UTF-8') { reader ->
        localProperties.load(reader)
    }
}

def flutterVersionCode = localProperties.getProperty('flutter.versionCode')
if (flutterVersionCode == null) {
    flutterVersionCode = '1'
}

def flutterVersionName = localProperties.getProperty('flutter.versionName')
if (flutterVersionName == null) {
    flutterVersionName = '1.0'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 3: LOAD SIGNING KEYS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
def keystoreProperties = new Properties()
def keystorePropertiesFile = rootProject.file('key.properties')
if (keystorePropertiesFile.exists()) {
    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 4: ANDROID CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
android {
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.1: Basic Settings
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    namespace 'com.getpos.getpos'    // Package name
    compileSdk 34                     // Android 14 SDK
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.2: Compilation Options
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8  // Java 8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    
    kotlinOptions {
        jvmTarget = '1.8'  // Kotlin â†’ Java 8 bytecode
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.3: Default Configuration
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    defaultConfig {
        // Unique app ID (MUST be unique on Play Store)
        applicationId "com.getpos.getpos"
        
        // Minimum Android version
        minSdk 21      // Android 5.0 (Lollipop) - 2014
        
        // Target Android version
        targetSdk 34   // Android 14 - 2023
        
        // Version numbers
        versionCode flutterVersionCode.toInteger()  // 1, 2, 3...
        versionName flutterVersionName               // "1.0", "2.0"...
        
        // Enable multidex (if app is large)
        // multiDexEnabled true
        
        // Test runner
        // testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.4: Signing Configurations
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    signingConfigs {
        release {
            if (keystorePropertiesFile.exists()) {
                keyAlias keystoreProperties['keyAlias']
                keyPassword keystoreProperties['keyPassword']
                storeFile file(keystoreProperties['storeFile'])
                storePassword keystoreProperties['storePassword']
            }
        }
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.5: Build Types
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    buildTypes {
        release {
            // Code shrinking (remove unused code)
            minifyEnabled true
            
            // Resource shrinking (remove unused images)
            shrinkResources true
            
            // ProGuard rules
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 
                          'proguard-rules.pro'
            
            // Sign with release key
            signingConfig signingConfigs.release
            
            // Build config fields (accessible in code)
            buildConfigField "String", "API_URL", '"https://api.production.com"'
            buildConfigField "boolean", "DEBUG_MODE", "false"
        }
        
        debug {
            // Keep everything for debugging
            minifyEnabled false
            shrinkResources false
            
            // Different app ID (can install alongside release)
            applicationIdSuffix ".debug"
            
            // Debug version name
            versionNameSuffix "-DEBUG"
            
            // Build config
            buildConfigField "String", "API_URL", '"https://api.staging.com"'
            buildConfigField "boolean", "DEBUG_MODE", "true"
        }
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.6: Build Features
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    buildFeatures {
        // Generate BuildConfig class
        buildConfig = true
        
        // View binding (Android views)
        // viewBinding = true
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.7: Lint Options
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    lintOptions {
        // Don't abort build on errors
        abortOnError false
        
        // Check for these issues
        checkReleaseBuilds true
        
        // Disable specific checks
        disable 'InvalidPackage'
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 4.8: Packaging Options
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    packagingOptions {
        // Exclude duplicate files
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/NOTICE.txt'
    }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 5: FLUTTER CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
flutter {
    source '../..'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 6: DEPENDENCIES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
dependencies {
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Kotlin
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // AndroidX Libraries
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    implementation 'androidx.core:core-ktx:1.12.0'
    implementation 'androidx.appcompat:appcompat:1.6.1'
    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Material Design
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    implementation 'com.google.android.material:material:1.11.0'
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Lifecycle
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.7.0'
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Multidex (if app is large)
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // implementation 'androidx.multidex:multidex:2.0.1'
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Firebase (using BOM for version management)
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // implementation platform('com.google.firebase:firebase-bom:32.7.0')
    // implementation 'com.google.firebase:firebase-analytics'
    // implementation 'com.google.firebase:firebase-crashlytics'
    // implementation 'com.google.firebase:firebase-messaging'
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Networking
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // implementation 'com.squareup.retrofit2:retrofit:2.9.0'
    // implementation 'com.squareup.retrofit2:converter-gson:2.9.0'
    // implementation 'com.squareup.okhttp3:okhttp:4.12.0'
    // implementation 'com.squareup.okhttp3:logging-interceptor:4.12.0'
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Image Loading
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // implementation 'com.github.bumptech.glide:glide:4.16.0'
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Testing
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    testImplementation 'junit:junit:4.13.2'
    androidTestImplementation 'androidx.test.ext:junit:1.1.5'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTION 7: APPLY PLUGINS (Must be at end)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// apply plugin: 'com.google.gms.google-services'
// apply plugin: 'com.google.firebase.crashlytics'
ğŸ” Deep Dive: Key Sections
1. Package Name (namespace & applicationId)
gradleandroid {
    namespace 'com.getpos.getpos'
    
    defaultConfig {
        applicationId "com.getpos.getpos"
    }
}
What's the Difference?
AspectnamespaceapplicationIdPurposeCode organizationPlay Store IDUsed ByKotlin/Java filesAndroid systemCan Differ?YesYesExamplecom.company.myappcom.company.myapp.free
Real-World Example:
gradle// Free version
namespace 'com.company.myapp'
applicationId "com.company.myapp.free"

// Pro version (different build variant)
namespace 'com.company.myapp'
applicationId "com.company.myapp.pro"
Why Separate?

Both apps can be installed simultaneously
Share same codebase (namespace)
Different listings on Play Store (applicationId)

2. SDK Versions
gradleandroid {
    compileSdk 34
    
    defaultConfig {
        minSdk 21
        targetSdk 34
    }
}
```

**Visual Explanation:**
```
Android Version Timeline:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
API 21 â”‚ Android 5.0  (2014) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
API 23 â”‚ Android 6.0  (2015)                           â”‚ minSdk = 21
API 26 â”‚ Android 8.0  (2017)                           â”‚ "Works on these"
API 29 â”‚ Android 10   (2019)                           â”‚
API 30 â”‚ Android 11   (2020)                           â”‚
API 33 â”‚ Android 13   (2022)                           â”‚
API 34 â”‚ Android 14   (2023) â—„â”€ targetSdk & compileSdk â”˜
                                   "Optimized for this"
Choosing minSdk:
Min SDKCoverageTrade-offsAPI 2199%No fingerprint, old permissionsAPI 2398%Runtime permissionsAPI 2695%Notification channelsAPI 3085%Scoped storage
Example Decision:
gradle// E-commerce app (needs maximum reach)
minSdk 21  // 99% of users

// Banking app (needs biometrics)
minSdk 23  // Fingerprint API available

// Modern app (uses latest features)
minSdk 26  // Notification channels, auto-fill
3. Version Code vs Version Name
gradledefaultConfig {
    versionCode 15        // Internal counter
    versionName "2.3.1"   // User-facing version
}
```

**Version Evolution Example:**

| Release | versionCode | versionName | Description |
|---------|-------------|-------------|-------------|
| Initial | 1 | "1.0" | First release |
| Bug fix | 2 | "1.0.1" | Fixed crash |
| Feature | 3 | "1.1" | Added dark mode |
| Major | 4 | "2.0" | Complete redesign |
| Hotfix | 5 | "2.0.1" | Security patch |

**Play Store Rule:**
```
Each new upload MUST have versionCode > previous upload
```

**Semantic Versioning:**
```
versionName "2.3.1"
             â†‘ â†‘ â†‘
             â”‚ â”‚ â””â”€ Patch (bug fixes)
             â”‚ â””â”€â”€â”€ Minor (new features)
             â””â”€â”€â”€â”€â”€ Major (breaking changes)
4. Build Types (Debug vs Release)
gradlebuildTypes {
    debug {
        minifyEnabled false
        applicationIdSuffix ".debug"
        buildConfigField "String", "API_URL", '"https://staging.api.com"'
    }
    
    release {
        minifyEnabled true
        shrinkResources true
        proguardFiles ...
        buildConfigField "String", "API_URL", '"https://api.com"'
    }
}
Comparison:
FeatureDebug BuildRelease BuildSpeedFast (1-2 min)Slow (5-10 min)SizeLarge (50 MB)Small (15 MB)ObfuscationâŒ Noâœ… YesLoggingâœ… VerboseâŒ MinimalAPIStagingProductionApp IDcom.app.debugcom.appInstall Togetherâœ… Yesâœ… Yes
Using BuildConfig in Code:
kotlin// MainActivity.kt
class MainActivity : FlutterActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        val apiUrl = BuildConfig.API_URL
        Log.d("API", "Using: $apiUrl")
        
        if (BuildConfig.DEBUG) {
            // Enable debug tools
            enableStrictMode()
        }
    }
}
5. Dependencies Explained
gradledependencies {
    implementation 'androidx.core:core-ktx:1.12.0'
}
Dependency Types:
TypeScopeExample Use CaseimplementationThis module onlyMost dependenciesapiThis + dependent modulesShared librariescompileOnlyCompile time onlyAnnotationsruntimeOnlyRuntime onlyDatabase driverstestImplementationUnit testsJUnitandroidTestImplementationAndroid testsEspressodebugImplementationDebug builds onlyLeak detectionreleaseImplementationRelease builds onlyAnalytics
Example Scenarios:Continue1:02 AMgradledependencies {
    // Regular dependency
    implementation 'com.squareup.retrofit2:retrofit:2.9.0'
    
    // Expose to other modules
    api 'com.google.code.gson:gson:2.10.1'
    
    // Annotation processor
    kapt 'com.google.dagger:dagger-compiler:2.48'
    
    // Debug tools only
    debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.12'
    
    // Testing
    testImplementation 'junit:junit:4.13.2'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
}
Firebase BOM (Bill of Materials):
gradle// WITHOUT BOM (version conflicts possible)
dependencies {
    implementation 'com.google.firebase:firebase-analytics:21.0.0'
    implementation 'com.google.firebase:firebase-auth:22.0.0'
    implementation 'com.google.firebase:firebase-firestore:24.0.0'
}

// WITH BOM (versions auto-managed)
dependencies {
    // BOM specifies all versions
    implementation platform('com.google.firebase:firebase-bom:32.7.0')
    
    // No version numbers needed!
    implementation 'com.google.firebase:firebase-analytics'
    implementation 'com.google.firebase:firebase-auth'
    implementation 'com.google.firebase:firebase-firestore'
}

ğŸ“„ 3. settings.gradle
Location: android/settings.gradle
Purpose: Tells Gradle which modules to include in the build.
Complete File
gradle// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PLUGIN MANAGEMENT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
pluginManagement {
    // Where to find plugins
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INCLUDE MAIN APP MODULE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
include ':app'

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AUTO-INCLUDE FLUTTER PLUGINS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
def flutterProjectRoot = rootProject.projectDir.parentFile.toPath()

// Read .flutter-plugins file
def plugins = new Properties()
def pluginsFile = new File(flutterProjectRoot.toFile(), '.flutter-plugins')
if (pluginsFile.exists()) {
    pluginsFile.withReader('UTF-8') { reader -> plugins.load(reader) }
}

// Include each plugin
plugins.each { name, path ->
    def pluginDirectory = flutterProjectRoot.resolve(path).resolve('android').toFile()
    if (pluginDirectory.exists()) {
        include ":$name"
        project(":$name").projectDir = pluginDirectory
    }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// OPTIONAL: CUSTOM MODULES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// include ':my_custom_module'
// project(':my_custom_module').projectDir = new File(rootProject.projectDir, '../my_custom_module/android')
```

### What This Does

**Visual Representation:**
```
Your Project Structure:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
settings.gradle says: "Include these modules"
  â”‚
  â”œâ”€ :app (your main app)
  â”‚
  â”œâ”€ :camera (Flutter camera plugin)
  â”‚
  â”œâ”€ :path_provider (Flutter path_provider plugin)
  â”‚
  â””â”€ :shared_preferences (Flutter shared_preferences plugin)

Gradle builds them all together!
```

**What `.flutter-plugins` Contains:**
```
# This file is generated by Flutter
camera=/Users/you/.pub-cache/hosted/pub.dev/camera-0.10.5+5/
path_provider=/Users/you/.pub-cache/hosted/pub.dev/path_provider-2.1.1/
shared_preferences=/Users/you/.pub-cache/hosted/pub.dev/shared_preferences-2.2.2/

ğŸ“„ 4. gradle.properties
Location: android/gradle.properties
Purpose: Global Gradle settings (memory, parallel builds, feature flags).
Complete File
properties# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# GRADLE JVM SETTINGS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Allocate 4 GB RAM to Gradle (adjust based on your machine)
org.gradle.jvmargs=-Xmx4096m

# Use daemon (speeds up builds by keeping Gradle in memory)
org.gradle.daemon=true

# Enable parallel execution (build modules simultaneously)
org.gradle.parallel=true

# Enable build cache (reuse outputs from previous builds)
org.gradle.caching=true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ANDROID SETTINGS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Use AndroidX libraries (modern Android libraries)
android.useAndroidX=true

# Auto-migrate old support libraries to AndroidX
android.enableJetifier=true

# Enable R8 (modern code shrinker, replaces ProGuard)
android.enableR8=true

# Full R8 mode (more aggressive optimization)
android.enableR8.fullMode=true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# KOTLIN SETTINGS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Kotlin code generation (JVM target)
kotlin.code.style=official

# Incremental compilation (faster Kotlin builds)
kotlin.incremental=true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PERFORMANCE TUNING
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Configure on demand (only build changed modules)
# org.gradle.configureondemand=true

# Increase file watcher limits (for large projects)
# org.gradle.vfs.watch=true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CUSTOM PROPERTIES (accessible in build.gradle)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Your custom properties
# myCustomProperty=someValue
Deep Dive: Memory Settings
propertiesorg.gradle.jvmargs=-Xmx4096m
                     â†‘
                  Max heap size
```

**Choosing the Right Value:**

| Machine RAM | Recommended `-Xmx` | When to Use |
|-------------|-------------------|-------------|
| 8 GB | `-Xmx2048m` | Small projects |
| 16 GB | `-Xmx4096m` | Medium projects |
| 32 GB+ | `-Xmx8192m` | Large projects with many plugins |

**Error Example:**
```
Error: OutOfMemoryError: Java heap space
Fix:
properties# Increase from 2 GB to 4 GB
org.gradle.jvmargs=-Xmx4096m
Warning:
Don't set -Xmx higher than 75% of your total RAM!
Deep Dive: AndroidX
propertiesandroid.useAndroidX=true
android.enableJetifier=true
What is AndroidX?

Old: android.support.v7.app.AppCompatActivity
New: androidx.appcompat.app.AppCompatActivity

What Jetifier Does:
Automatically converts old support libraries to AndroidX.
Example:
kotlin// Old dependency in build.gradle
implementation 'com.android.support:appcompat-v7:28.0.0'

// Jetifier converts it to:
implementation 'androidx.appcompat:appcompat:1.6.1'

<div id="source-files"></div>
ğŸ’» Source Code Files

ğŸ“„ MainActivity.kt
Location: android/app/src/main/kotlin/com/getpos/getpos/MainActivity.kt
Purpose: The "front door" of your app - where Android passes control to Flutter.
Basic MainActivity (Standard)
kotlin// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PACKAGE DECLARATION (must match namespace in build.gradle)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
package com.getpos.getpos

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// IMPORTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
import io.flutter.embedding.android.FlutterActivity

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAIN ACTIVITY CLASS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
class MainActivity: FlutterActivity() {
    // That's it! Flutter handles everything else
}
```

**What Happens Here:**
```
User Taps App Icon
      â†“
Android OS
      â†“
Reads AndroidManifest.xml
      â†“
Finds MainActivity as launcher
      â†“
Creates MainActivity instance
      â†“
MainActivity extends FlutterActivity
      â†“
FlutterActivity:
  â”œâ”€ Creates Flutter engine
  â”œâ”€ Loads Dart code
  â”œâ”€ Renders Flutter widgets
  â””â”€ Handles touch, keyboard, sensors
Advanced MainActivity (with Method Channels)
kotlinpackage com.getpos.getpos

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ANDROID IMPORTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
import android.content.Context
import android.content.Intent
import android.content.IntentFilter
import android.os.BatteryManager
import android.os.Build.VERSION
import android.os.Build.VERSION_CODES
import android.os.VibrationEffect
import android.os.Vibrator
import android.util.Log
import androidx.annotation.NonNull

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FLUTTER IMPORTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
import io.flutter.embedding.android.FlutterActivity
import io.flutter.embedding.engine.FlutterEngine
import io.flutter.plugin.common.MethodChannel

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAIN ACTIVITY CLASS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
class MainActivity: FlutterActivity() {
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // CONSTANTS
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    private val TAG = "MainActivity"
    private val CHANNEL_BATTERY = "com.getpos/battery"
    private val CHANNEL_DEVICE = "com.getpos/device"
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // FLUTTER ENGINE CONFIGURATION
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    override fun configureFlutterEngine(@NonNull flutterEngine: FlutterEngine) {
        super.configureFlutterEngine(flutterEngine)
        
        // Setup battery channel
        setupBatteryChannel(flutterEngine)
        
        // Setup device channel
        setupDeviceChannel(flutterEngine)
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // BATTERY CHANNEL SETUP
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    private fun setupBatteryChannel(flutterEngine: FlutterEngine) {
        MethodChannel(
            flutterEngine.dartExecutor.binaryMessenger,
            CHANNEL_BATTERY
        ).setMethodCallHandler { call, result ->
            when (call.method) {
                "getBatteryLevel" -> {
                    val batteryLevel = getBatteryLevel()
                    
                    if (batteryLevel != -1) {
                        result.success(batteryLevel)
                    } else {
                        result.error(
                            "UNAVAILABLE",
                            "Battery level not available.",
                            null
                        )
                    }
                }
                
                "getBatteryStatus" -> {
                    val status = getBatteryStatus()
                    result.success(status)
                }
                
                else -> {
                    result.notImplemented()
                }
            }
        }
    }
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // DEVICE CHANNEL SETUP
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    private fun setupDeviceChannel(flutterEngine: FlutterEngine) {
        MethodChannel(
            flutterEngine.dartExecutor.binaryMessenger,
            CHANNEL_DEVICE
        ).setMethodCallHandler { call, result ->
            when (call.method) {
                "vibrate" -> {
                    val duration = call.argument<Int>("duration") ?: 500
                    vibrate(duration)
                    result.success(null)
                }
                
                "getDeviceInfo" -> {
                    val info = getDeviceInfo()
                    result.success(info)
                }
                
                else -> {
                    result.notImplemented()
                }
            }
        }
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // NATIVE METHODS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    /**
     * Get current battery level (0-100)
     */
    private fun getBatteryLevel(): Int {
        val batteryLevel: Int
        
        if (VERSION.SDK_INT >= VERSION_CODES.LOLLIPOP) {
            // Modern approach (API 21+)
            val batteryManager = getSystemService(Context.BATTERY_SERVICE) as BatteryManager
            batteryLevel = batteryManager.getIntProperty(
                BatteryManager.BATTERY_PROPERTY_CAPACITY
            )
        } else {
            // Legacy approach (API < 21)
            val intent = registerReceiver(
                null,
                IntentFilter(Intent.ACTION_BATTERY_CHANGED)
            )
            
            val level = intent?.getIntExtra(BatteryManager.EXTRA_LEVEL, -1) ?: -1
            val scale = intent?.getIntExtra(BatteryManager.EXTRA_SCALE, -1) ?: -1
            
            batteryLevel = if (level != -1 && scale != -1) {
                (level * 100 / scale)
            } else {
                -1
            }
        }
        
        Log.d(TAG, "Battery level: $batteryLevel%")
        return batteryLevel
    }
    
    /**
     * Get battery charging status
     */
    private fun getBatteryStatus(): String {
        val intent = registerReceiver(
            null,
            IntentFilter(Intent.ACTION_BATTERY_CHANGED)
        )
        
        val status = intent?.getIntExtra(BatteryManager.EXTRA_STATUS, -1) ?: -1
        
        return when (status) {
            BatteryManager.BATTERY_STATUS_CHARGING -> "charging"
            BatteryManager.BATTERY_STATUS_DISCHARGING -> "discharging"
            BatteryManager.BATTERY_STATUS_FULL -> "full"
            BatteryManager.BATTERY_STATUS_NOT_CHARGING -> "not_charging"
            else -> "unknown"
        }
    }
    
    /**
     * Vibrate the device
     */
    private fun vibrate(duration: Int) {
        val vibrator = getSystemService(Context.VIBRATOR_SERVICE) as Vibrator
        
        if (VERSION.SDK_INT >= VERSION_CODES.O) {
            // Modern approach (API 26+)
            vibrator.vibrate(
                VibrationEffect.createOneShot(
                    duration.toLong(),
                    VibrationEffect.DEFAULT_AMPLITUDE
                )
            )
        } else {
            // Legacy approach (API < 26)
            @Suppress("DEPRECATION")
            vibrator.vibrate(duration.toLong())
        }
        
        Log.d(TAG, "Vibrated for ${duration}ms")
    }
    
    /**
     * Get device information
     */
    private fun getDeviceInfo(): Map<String, String> {
        return mapOf(
            "manufacturer" to Build.MANUFACTURER,
            "model" to Build.MODEL,
            "androidVersion" to VERSION.RELEASE,
            "sdkInt" to VERSION.SDK_INT.toString(),
            "board" to Build.BOARD,
            "brand" to Build.BRAND
        )
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // LIFECYCLE METHODS (Optional)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    override fun onResume() {
        super.onResume()
        Log.d(TAG, "Activity resumed")
    }
    
    override fun onPause() {
        super.onPause()
        Log.d(TAG, "Activity paused")
    }
}
Flutter Side (Dart Code)
dartimport 'package:flutter/services.dart';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BATTERY MANAGER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
class BatteryManager {
  static const platform = MethodChannel('com.getpos/battery');
  
  /// Get battery level (0-100)
  static Future<int> getBatteryLevel() async {
    try {
      final int result = await platform.invokeMethod('getBatteryLevel');
      return result;
    } on PlatformException catch (e) {
      print("Failed to get battery level: '${e.message}'.");
      return -1;
    }
  }
  
  /// Get battery status (charging, discharging, etc.)
  static Future<String> getBatteryStatus() async {
    try {
      final String result = await platform.invokeMethod('getBatteryStatus');
      return result;
    } catch (e) {
      print("Failed to get battery status: $e");
      return 'unknown';
    }
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DEVICE MANAGER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
class DeviceManager {
  static const platform = MethodChannel('com.getpos/device');
  
  /// Vibrate device for specified duration (milliseconds)
  static Future<void> vibrate({int duration = 500}) async {
    try {
      await platform.invokeMethod('vibrate', {'duration': duration});
    } catch (e) {
      print("Failed to vibrate: $e");
    }
  }
  
  /// Get device information
  static Future<Map<String, String>> getDeviceInfo() async {
    try {
      final Map result = await platform.invokeMethod('getDeviceInfo');
      return Map<String, String>.from(result);
    } catch (e) {
      print("Failed to get device info: $e");
      return {};
    }
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// USAGE EXAMPLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
void main() async {
  // Get battery level
  int batteryLevel = await BatteryManager.getBatteryLevel();
  print('Battery: $batteryLevel%');
  
  // Get battery status
  String status = await BatteryManager.getBatteryStatus();
  print('Status: $status');
  
  // Vibrate for 1 second
  await DeviceManager.vibrate(duration: 1000);
  
  // Get device info
  Map<String, String> info = await DeviceManager.getDeviceInfo();
  print('Device: ${info['manufacturer']} ${info['model']}');
  print('Android: ${info['androidVersion']}');
}
```

### Method Channel Flow Diagram
```
Flutter (Dart)                    Android (Kotlin)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
     â”‚                                   â”‚
     â”‚  1. Call method                   â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚  platform.invokeMethod(           â”‚
     â”‚    'getBatteryLevel'              â”‚
     â”‚  )                                â”‚
     â”‚                                   â”‚
     â”‚                              2. Execute
     â”‚                              getBatteryLevel()
     â”‚                                   â”‚
     â”‚  3. Return result                 â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚  result.success(75)               â”‚
     â”‚                                   â”‚

<div id="manifest"></div>
ğŸ“„ AndroidManifest.xml
Location: android/app/src/main/AndroidManifest.xml
Purpose: Your app's "passport" - declares identity, permissions, and components.
Complete AndroidManifest.xml
xml<?xml version="1.0" encoding="utf-8"?>
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- ROOT MANIFEST TAG                                              -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.getpos.getpos">
    
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- PERMISSIONS SECTION                                        -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    
    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <!-- NORMAL PERMISSIONS (Auto-granted)                          -->
    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    
    <!-- Internet access (REQUIRED for most apps) -->
    <uses-permission android:name="android.permission.INTERNET"/>
    
    <!-- Check network state -->
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    
    <!-- Vibrate the device -->
    <uses-permission android:name="android.permission.VIBRATE"/>
    
    <!-- Wake lock (keep screen on) -->
    <uses-permission android:name="android.permission.WAKE_LOCK"/>
    
    <!-- Receive boot completed (start service on boot) -->
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
    
    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <!-- DANGEROUS PERMISSIONS (User must approve)                  -->
    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    
    <!-- Camera -->
    <uses-permission android:name="android.permission.CAMERA"/>
    
    <!-- Location (GPS) -->
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    
    <!-- Background location (Android 10+) -->
    <uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION"/>
    
    <!-- Storage (Android 9 and below) -->
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"
        android:maxSdkVersion="28"/>
    
    <!-- Storage (Android 13+) -->
    <uses-permission android:name="android.permission.READ_MEDIA_IMAGES"/>
    <uses-permission android:name="android.permission.READ_MEDIA_VIDEO"/>
    <uses-permission android:name="android.permission.READ_MEDIA_AUDIO"/>
    
    <!-- Microphone (audio recording) -->
    <uses-permission android:name="android.permission.RECORD_AUDIO"/>
    
    <!-- Contacts -->
    <uses-permission android:name="android.permission.READ_CONTACTS"/>
    <uses-permission android:name="android.permission.WRITE_CONTACTS"/>
    
    <!-- Phone calls -->
    <uses-permission android:name="android.permission.CALL_PHONE"/>
    <uses-permission android:name="android.permission.READ_PHONE_STATE"/>
    
    <!-- SMS -->
    <uses-permission android:name="android.permission.SEND_SMS"/>
    <uses-permission android:name="android.permission.READ_SMS"/>
    
    <!-- Bluetooth (Android 11 and below) -->
    <uses-permission android:name="android.permission.BLUETOOTH"/>
    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/>
    
    <!-- Bluetooth (Android 12+) -->
    <uses-permission android:name="android.permission.BLUETOOTH_SCAN"/>
    <uses-permission android:name="android.permission.BLUETOOTH_CONNECT"/>
    <uses-permission android:name="android.permission.BLUETOOTH_ADVERTISE"/>
    
    <!-- Notifications (Android 13+) -->
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS"/>
    
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- HARDWARE FEATURES                                          -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    
    <!-- Camera hardware (NOT required) -->
    <uses-feature android:name="android.hardware.camera" android:required="false"/>
    
    <!-- GPS hardware (NOT required) -->
    <uses-feature android:name="android.hardware.location.gps" android:required="false"/>
    
    <!-- Touchscreen (required by default) -->
    <uses-feature android:name="android.hardware.touchscreen" android:required="true"/>
    
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- APPLICATION SECTION                                        -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <application
        android:label="GetPos"
        android:name="${applicationName}"
        android:icon="@mipmap/ic_launcher"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:usesCleartextTraffic="true"
        android:requestLegacyExternalStorage="true"
        android:enableOnBackInvokedCallback="true"
        android:hardwareAccelerated="true"
        android:largeHeap="true"
        android:networkSecurityConfig="@xml/network_security_config">
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- MAIN ACTIVITY (App Entry Point)                       -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:launchMode="singleTop"
            android:theme="@style/LaunchTheme"
            android:configChanges="orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"
            android:hardwareAccelerated="true"
            android:windowSoftInputMode="adjustResize"
            android:screenOrientation="portrait">
            
            <!-- Intent filter: Make this the launcher activity -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
            
            <!-- Deep linking: myapp://product/123 -->
            <intent-filter>
                <action android:name="android.intent.action.VIEW"/>
                <category android:name="android.intent.category.DEFAULT"/>
                <category android:name="android.intent.category.BROWSABLE"/>
                <data android:scheme="myapp" android:host="product"/>
            </intent-filter>
            
            <!-- Web links: https://myapp.com/product/123 -->
            <intent-filter android:autoVerify="true">
                <action android:name="android.intent.action.VIEW"/>
                <category android:name="android.intent.category.DEFAULT"/>
                <category android:name="android.intent.category.BROWSABLE"/>
                <data 
                    android:scheme="https"
                    android:host="myapp.com"
                    android:pathPrefix="/product"/>
            </intent-filter>
        </activity>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- SERVICES                                               -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        
        <!-- Firebase Cloud Messaging -->
        <service
            android:name=".MyFirebaseMessagingService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.google.firebase.MESSAGING_EVENT"/>
            </intent-filter>
        </service>
        
        <!-- Background service -->
        <service
            android:name=".MyBackgroundService"
            android:enabled="true"
            android:exported="false"
            android:foregroundServiceType="location"/>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- BROADCAST RECEIVERS                                    -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        
        <!-- Boot receiver (start on device boot) -->
        <receiver
            android:name=".MyBootReceiver"
            android:enabled="true"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED"/>
            </intent-filter>
        </receiver>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- CONTENT PROVIDERS                                      -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        
        <!-- File provider (for sharing files) -->
        <provider
            android:name="androidx.core.content.FileProvider"
            android:authorities="${applicationId}.fileprovider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/file_paths"/>
        </provider>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- META-DATA                                              -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        
        <!-- Google Maps API key -->
        <meta-data
            android:name="com.google.android.geo.API_KEY"
            android:value="YOUR_API_KEY_HERE"/>
        
        <!-- Flutter embedding version -->
        <meta-data
            android:name="flutterEmbedding"
            android:value="2"/>
        
        <!-- AdMob App ID -->
        <meta-data
            android:name="com.google.android.gms.ads.APPLICATION_ID"
            android:value="ca-app-pub-XXXXXXXXXXXXXXXX~YYYYYYYYYY"/>
    </application>
</manifest>
ğŸ” Deep Dive: Permissions
Permission Categories
CategoryDescriptionExampleUser ActionNormalLow risk, auto-grantedINTERNET, VIBRATENoneDangerousPrivacy riskCAMERA, LOCATIONMust approveSignatureSystem/same developerINSTALL_PACKAGESAuto (if signed)SpecialSensitive operationsSYSTEM_ALERT_WINDOWSettings toggle
Runtime Permission Flow
Your App Needs Camera
        â†“
1. Declare in AndroidManifest.xml:
   <uses-permission android:name="android.permission.CAMERA"/>
        â†“
2. Check if granted (Dart):
   if (await Permission.camera.isGranted) {
     //Continue1:04 AMHuman: I notice the response was cut off. Could you please continue from where you left off with the Runtime Permission Flow section?yes continue from there1:04 AMdart2. Check if granted (Dart):
   if (await Permission.camera.isGranted) {
     // Use camera
   }
        â†“
3. Request permission if not granted:
   if (await Permission.camera.request().isGranted) {
     // Permission granted, use camera
   } else {
     // Permission denied
   }
        â†“
4. User sees dialog:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Allow GetPos to take pictures       â”‚
   â”‚  and record video?                   â”‚
   â”‚                                      â”‚
   â”‚  [Deny]          [Allow]             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
5. Handle result in your app
Permission Examples with Flutter Code
Example 1: Camera Permission
xml<!-- AndroidManifest.xml -->
<uses-permission android:name="android.permission.CAMERA"/>
dart// Flutter code
import 'package:permission_handler/permission_handler.dart';

Future<void> takePicture() async {
  // Check current status
  var status = await Permission.camera.status;
  
  if (status.isDenied) {
    // Request permission
    status = await Permission.camera.request();
  }
  
  if (status.isGranted) {
    // Permission granted, use camera
    print('Camera permission granted');
    // Open camera...
  } else if (status.isPermanentlyDenied) {
    // User denied permission permanently
    // Open app settings
    openAppSettings();
  }
}
Example 2: Location Permission (with rationale)
xml<!-- AndroidManifest.xml -->
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
dart// Flutter code
Future<void> getCurrentLocation() async {
  var status = await Permission.location.status;
  
  if (status.isDenied) {
    // Show rationale dialog
    bool shouldRequest = await showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('Location Permission'),
        content: Text('We need your location to show nearby stores.'),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context, false),
            child: Text('Cancel'),
          ),
          TextButton(
            onPressed: () => Navigator.pop(context, true),
            child: Text('OK'),
          ),
        ],
      ),
    );
    
    if (shouldRequest) {
      status = await Permission.location.request();
    }
  }
  
  if (status.isGranted) {
    // Get location
    Position position = await Geolocator.getCurrentPosition();
    print('Lat: ${position.latitude}, Lng: ${position.longitude}');
  }
}
Example 3: Multiple Permissions
dartFuture<void> requestMultiplePermissions() async {
  Map<Permission, PermissionStatus> statuses = await [
    Permission.camera,
    Permission.microphone,
    Permission.storage,
  ].request();
  
  // Check each permission
  if (statuses[Permission.camera]!.isGranted &&
      statuses[Permission.microphone]!.isGranted &&
      statuses[Permission.storage]!.isGranted) {
    // All permissions granted
    print('All permissions granted');
  } else {
    // Some permissions denied
    print('Some permissions denied');
  }
}
Android Version-Specific Permissions
xml<!-- Storage: Different for different Android versions -->

<!-- Android 9 and below -->
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"
    android:maxSdkVersion="28"/>

<!-- Android 13+ -->
<uses-permission android:name="android.permission.READ_MEDIA_IMAGES"/>
<uses-permission android:name="android.permission.READ_MEDIA_VIDEO"/>
Kotlin code to handle version differences:
kotlin// MainActivity.kt
private fun requestStoragePermission() {
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
        // Android 13+
        requestPermissions(
            arrayOf(
                Manifest.permission.READ_MEDIA_IMAGES,
                Manifest.permission.READ_MEDIA_VIDEO
            ),
            REQUEST_CODE
        )
    } else {
        // Android 12 and below
        requestPermissions(
            arrayOf(
                Manifest.permission.READ_EXTERNAL_STORAGE,
                Manifest.permission.WRITE_EXTERNAL_STORAGE
            ),
            REQUEST_CODE
        )
    }
}
ğŸ” Deep Dive: Application Attributes
xml<application
    android:label="GetPos"
    android:icon="@mipmap/ic_launcher"
    android:usesCleartextTraffic="true"
    android:hardwareAccelerated="true">
Complete Attribute Reference
AttributeValuesPurposeExampleandroid:labelStringApp name"My App"android:iconDrawableApp icon@mipmap/ic_launcherandroid:roundIconDrawableRound icon (adaptive)@mipmap/ic_launcher_roundandroid:usesCleartextTraffictrue/falseAllow HTTPtrue (dev), false (prod)android:hardwareAcceleratedtrue/falseGPU renderingtrue (faster)android:largeHeaptrue/falseMore memorytrue (if needed)android:allowBackuptrue/falseAuto backuptrueandroid:supportsRtltrue/falseRight-to-lefttrue (Arabic, Hebrew)android:themeStyleApp theme@style/AppTheme
Detailed Explanations
1. android:usesCleartextTraffic
xml<!-- Development (allow HTTP) -->
<application android:usesCleartextTraffic="true">

<!-- Production (HTTPS only) -->
<application android:usesCleartextTraffic="false">
Why it matters:

Android 9+ blocks HTTP by default (security)
Set to true for local development (http://localhost:3000)
Set to false for production (forces HTTPS)

Network Security Config (better approach):
xml<!-- AndroidManifest.xml -->
<application
    android:networkSecurityConfig="@xml/network_security_config">
xml<!-- res/xml/network_security_config.xml -->
<?xml version="1.0" encoding="utf-8"?>
<network-security-config>
    <!-- Allow cleartext for specific domains only -->
    <domain-config cleartextTrafficPermitted="true">
        <domain includeSubdomains="true">localhost</domain>
        <domain includeSubdomains="true">10.0.2.2</domain> <!-- Android emulator -->
    </domain-config>
    
    <!-- Production: HTTPS only -->
    <base-config cleartextTrafficPermitted="false"/>
</network-security-config>
2. android:hardwareAccelerated
xml<application android:hardwareAccelerated="true">
```

**What it does:**
- Uses GPU for rendering (faster, smoother)
- Enabled by default in modern apps
- Disable only if you have issues with specific views

**Performance comparison:**
```
Software Rendering (CPU):
â”œâ”€ FPS: 30-40
â”œâ”€ Battery: High drain
â””â”€ Smoothness: Janky

Hardware Rendering (GPU):
â”œâ”€ FPS: 60
â”œâ”€ Battery: Low drain
â””â”€ Smoothness: Buttery smooth
3. android:largeHeap
xml<application android:largeHeap="true">
What it does:

Requests more memory from Android
Normal heap: ~256 MB
Large heap: ~512 MB (device-dependent)

When to use:

Image-heavy apps (photo editing)
Video processing
Large datasets in memory

âš ï¸ Warning: Don't use as a bandaid for memory leaks!
kotlin// Check heap size
val runtime = Runtime.getRuntime()
val maxMemory = runtime.maxMemory() / 1024 / 1024
Log.d("Memory", "Max heap: $maxMemory MB")
ğŸ” Deep Dive: Activity Attributes
xml<activity
    android:name=".MainActivity"
    android:exported="true"
    android:launchMode="singleTop"
    android:screenOrientation="portrait">
```

#### Complete Attribute Reference

| Attribute | Values | Purpose |
|-----------|--------|---------|
| `android:name` | Class name | Activity to launch |
| `android:exported` | true/false | Can other apps open this? |
| `android:launchMode` | standard/singleTop/singleTask/singleInstance | How to create instances |
| `android:screenOrientation` | portrait/landscape/sensor | Lock orientation |
| `android:theme` | Style | Activity theme |
| `android:configChanges` | List | Handle config changes |
| `android:windowSoftInputMode` | adjustResize/adjustPan | Keyboard behavior |

#### Launch Modes Explained

**Visual Comparison:**
```
standard (default):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainActivity        â”‚ â† New instance
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MainActivity        â”‚ â† New instance
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MainActivity        â”‚ â† New instance
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

singleTop:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainActivity        â”‚ â† Reuses if on top
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

singleTask:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainActivity        â”‚ â† Only one instance
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Real-world examples:
xml<!-- E-commerce app: Multiple product screens -->
<activity
    android:name=".ProductActivity"
    android:launchMode="standard"/>

<!-- Chat app: Don't duplicate chat screen -->
<activity
    android:name=".ChatActivity"
    android:launchMode="singleTop"/>

<!-- Main screen: Only one instance -->
<activity
    android:name=".MainActivity"
    android:launchMode="singleTask"/>
Screen Orientation
xml<!-- Lock to portrait -->
<activity android:screenOrientation="portrait"/>

<!-- Lock to landscape -->
<activity android:screenOrientation="landscape"/>

<!-- Follow device sensor -->
<activity android:screenOrientation="sensor"/>

<!-- User preference -->
<activity android:screenOrientation="user"/>

<!-- No preference (system decides) -->
<activity android:screenOrientation="unspecified"/>
Flutter override:
dart// Lock orientation in Flutter
SystemChrome.setPreferredOrientations([
  DeviceOrientation.portraitUp,
  DeviceOrientation.portraitDown,
]);
Config Changes
xml<activity
    android:configChanges="orientation|keyboardHidden|screenSize">
```

**What happens normally:**
```
User rotates device
      â†“
Activity DESTROYED
      â†“
Activity RECREATED
      â†“
State lost (unless saved)
```

**With `configChanges`:**
```
User rotates device
      â†“
onConfigurationChanged() called
      â†“
Activity STAYS ALIVE
      â†“
State preserved
Common combinations:
xml<!-- Handle rotation + keyboard + screen size -->
android:configChanges="orientation|keyboardHidden|keyboard|screenSize"

<!-- Handle everything (not recommended) -->
android:configChanges="orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"
Window Soft Input Mode
xml<activity android:windowSoftInputMode="adjustResize"/>
```

**Visual comparison:**

**adjustResize:**
```
Before keyboard:          After keyboard:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â”‚     â”‚ [TextField]      â”‚ â† Visible
â”‚                  â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [TextField]      â”‚     â”‚ â–“â–“â–“ KEYBOARD â–“â–“â–“ â”‚
â”‚ [Button]         â”‚     â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**adjustPan:**
```
Before keyboard:          After keyboard:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Header]         â”‚     â”‚ (scrolled up)    â”‚
â”‚                  â”‚     â”‚ [TextField]      â”‚ â† Visible
â”‚ [TextField]      â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Button]         â”‚     â”‚ â–“â–“â–“ KEYBOARD â–“â–“â–“ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**adjustNothing:**
```
Before keyboard:          After keyboard:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â”‚     â”‚                  â”‚
â”‚ [TextField]      â”‚     â”‚ [TextField]      â”‚ â† Hidden!
â”‚ [Button]         â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â–“â–“â–“ KEYBOARD â–“â–“â–“ â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Recommendation for Flutter:
xml<activity android:windowSoftInputMode="adjustResize"/>
ğŸ” Deep Dive: Intent Filters
1. Launcher Intent Filter (Make app appear in app drawer)
xml<intent-filter>
    <action android:name="android.intent.action.MAIN"/>
    <category android:name="android.intent.category.LAUNCHER"/>
</intent-filter>
What this means:

MAIN: This is the main entry point
LAUNCHER: Show icon in app launcher

Without this: Your app won't appear in the app drawer!
2. Deep Linking (Open app from custom URL)
xml<intent-filter>
    <action android:name="android.intent.action.VIEW"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <category android:name="android.intent.category.BROWSABLE"/>
    <data android:scheme="myapp" android:host="product"/>
</intent-filter>
```

**Opens app from:**
```
myapp://product/123
myapp://product/abc?ref=email
Flutter code to handle:
dart// pubspec.yaml
dependencies:
  uni_links: ^0.5.1

// Flutter code
import 'package:uni_links/uni_links.dart';

void initDeepLinks() async {
  // Handle app opened from link
  final initialLink = await getInitialLink();
  if (initialLink != null) {
    print('App opened with: $initialLink');
    // myapp://product/123
    // Parse and navigate
  }
  
  // Listen for future links (app already running)
  linkStream.listen((String? link) {
    print('New link received: $link');
  });
}
3. Web Links (App Links / Universal Links)
xml<intent-filter android:autoVerify="true">
    <action android:name="android.intent.action.VIEW"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <category android:name="android.intent.category.BROWSABLE"/>
    <data 
        android:scheme="https"
        android:host="myapp.com"
        android:pathPrefix="/product"/>
</intent-filter>
```

**Opens app from:**
```
https://myapp.com/product/123
```

**Verification required:**
Host `assetlinks.json` at:
```
https://myapp.com/.well-known/assetlinks.json
json[{
  "relation": ["delegate_permission/common.handle_all_urls"],
  "target": {
    "namespace": "android_app",
    "package_name": "com.getpos.getpos",
    "sha256_cert_fingerprints": [
      "14:6D:E9:83:C5:73:06:50:D8:EE:B9:95:2F:34:FC:64:16:A0:83:42:E6:1D:BE:A8:8A:04:96:B2:3F:CF:44:E5"
    ]
  }
}]
Get fingerprint:
bashkeytool -list -v -keystore upload-keystore.jks
4. Share to App (Receive shared content)
xml<intent-filter>
    <action android:name="android.intent.action.SEND"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <data android:mimeType="text/plain"/>
</intent-filter>
Appears in share menu when sharing:

Text
URLs

Handle in MainActivity:
kotlinoverride fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    
    when (intent?.action) {
        Intent.ACTION_SEND -> {
            if ("text/plain" == intent.type) {
                val sharedText = intent.getStringExtra(Intent.EXTRA_TEXT)
                // Handle shared text
            }
        }
    }
}
Share images:
xml<intent-filter>
    <action android:name="android.intent.action.SEND"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <data android:mimeType="image/*"/>
</intent-filter>
Share multiple images:
xml<intent-filter>
    <action android:name="android.intent.action.SEND_MULTIPLE"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <data android:mimeType="image/*"/>
</intent-filter>
```

---

<div id="proguard"></div>

## ğŸ” ProGuard & Code Protection

## ğŸ“„ proguard-rules.pro

**Location:** `android/app/proguard-rules.pro`

**Purpose:** Code shrinking, obfuscation, and optimization rules.

### What is ProGuard/R8?

**ProGuard** = Old tool (still used)  
**R8** = Modern replacement (faster, better)

Both do 4 things:
```
1. SHRINKING (Remove unused code)
   â”œâ”€ Before: 100 classes
   â””â”€ After: 30 classes (70% smaller!)

2. OBFUSCATION (Rename to make reverse engineering harder)
   â”œâ”€ Before: class UserManager { void deleteUser() {} }
   â””â”€ After: class a { void b() {} }

3. OPTIMIZATION (Make code faster)
   â”œâ”€ Before: if (DEBUG && true) { log(); }
   â””â”€ After: if (DEBUG) { log(); }

4. PREVERIFICATION (Java 6 bytecode verification)
Complete proguard-rules.pro
proguard# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# FLUTTER CORE RULES (NEVER REMOVE!)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Keep Flutter wrapper
-keep class io.flutter.app.** { *; }
-keep class io.flutter.plugin.** { *; }
-keep class io.flutter.util.** { *; }
-keep class io.flutter.view.** { *; }
-keep class io.flutter.** { *; }
-keep class io.flutter.plugins.** { *; }

# Keep BuildConfig
-keep class **.BuildConfig { *; }

# Keep R (resources)
-keep class **.R$* { *; }

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# GSON / JSON SERIALIZATION
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Keep field names for JSON
-keepclassmembers class * {
    @com.google.gson.annotations.SerializedName <fields>;
}

# Keep generic signatures
-keepattributes Signature

# Keep annotations
-keepattributes *Annotation*

# Keep model classes
-keep class com.getpos.getpos.models.** { *; }

# Example: Specific model
-keep class com.getpos.getpos.models.User {
    private java.lang.String name;
    private int age;
    public <methods>;
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# RETROFIT / OKHTTP (NETWORKING)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Retrofit
-keepattributes Signature
-keepattributes Exceptions
-keep class retrofit2.** { *; }

# Keep API interfaces
-keep interface com.getpos.getpos.api.** { *; }

# Keep service method annotations
-keepclassmembernames,allowobfuscation interface * {
    @retrofit2.http.* <methods>;
}

# OkHttp
-dontwarn okhttp3.**
-dontwarn okio.**
-keep class okhttp3.** { *; }
-keep interface okhttp3.** { *; }

# OkHttp platform used only on JVM and when Conscrypt dependency is available
-dontwarn org.conscrypt.**

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# FIREBASE
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-keep class com.google.firebase.** { *; }
-keep class com.google.android.gms.** { *; }
-dontwarn com.google.firebase.**
-dontwarn com.google.android.gms.**

# Firebase Crashlytics
-keepattributes SourceFile,LineNumberTable
-keep public class * extends java.lang.Exception

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# KOTLIN
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Keep Kotlin metadata
-keep class kotlin.Metadata { *; }

# Keep Kotlin classes
-keep class kotlin.** { *; }
-keep class kotlin.jvm.** { *; }

# Kotlin coroutines
-keepnames class kotlinx.coroutines.internal.MainDispatcherFactory {}
-keepnames class kotlinx.coroutines.CoroutineExceptionHandler {}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ANDROIDX / ANDROID COMPONENTS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# AndroidX
-keep class androidx.** { *; }
-keep interface androidx.** { *; }

# Lifecycle
-keep class * extends androidx.lifecycle.ViewModel
-keep class * extends androidx.lifecycle.AndroidViewModel

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# NATIVE METHODS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-keepclasseswithmembernames class * {
    native <methods>;
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ENUMS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PARCELABLE
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-keep class * implements android.os.Parcelable {
    public static final android.os.Parcelable$Creator *;
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# SERIALIZABLE
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-keepnames class * implements java.io.Serializable

-keepclassmembers class * implements java.io.Serializable {
    static final long serialVersionUID;
    private static final java.io.ObjectStreamField[] serialPersistentFields;
    !static !transient <fields>;
    private void writeObject(java.io.ObjectOutputStream);
    private void readObject(java.io.ObjectInputStream);
    java.lang.Object writeReplace();
    java.lang.Object readResolve();
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CUSTOM ANNOTATIONS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Keep classes with @Keep annotation
-keep @androidx.annotation.Keep class * { *; }
-keepclassmembers class * {
    @androidx.annotation.Keep *;
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# REMOVE LOGGING (RELEASE BUILD)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-assumenosideeffects class android.util.Log {
    public static *** d(...);
    public static *** v(...);
    public static *** i(...);
    # Keep warnings and errors
    # public static *** w(...);
    # public static *** e(...);
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# OPTIMIZATION SETTINGS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Number of optimization passes
-optimizationpasses 5

# Don't use mixed-case class names
-dontusemixedcaseclassnames

# Don't skip non-public library classes
-dontskipnonpubliclibraryclasses

# Preverify
-dontpreverify

# Optimize for code size
-optimizations !code/simplification/arithmetic,!code/simplification/cast,!field/*,!class/merging/*

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DEBUGGING (OPTIONAL - REMOVE IN FINAL PRODUCTION)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Print mapping file (shows what was renamed)
-printmapping build/outputs/mapping/release/mapping.txt

# Print seeds (classes that were kept)
-printseeds build/outputs/mapping/release/seeds.txt

# Print usage (classes that were removed)
-printusage build/outputs/mapping/release/usage.txt

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# LIBRARY-SPECIFIC RULES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Glide (image loading)
-keep public class * implements com.bumptech.glide.module.GlideModule
-keep class * extends com.bumptech.glide.module.AppGlideModule {
    <init>(...);
}

# Room Database
-keep class * extends androidx.room.RoomDatabase
-dontwarn androidx.room.paging.**

# WorkManager
-keep class * extends androidx.work.Worker
-keep class * extends androidx.work.InputMerger

# Dagger/Hilt
-keep class dagger.** { *; }
-keep class javax.inject.** { *; }

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CUSTOM PROJECT RULES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Keep your specific models
-keep class com.getpos.getpos.data.** { *; }
-keep class com.getpos.getpos.domain.** { *; }

# Keep classes used in reflection
-keep class com.getpos.getpos.utils.ReflectionHelper { *; }
```

### Common ProGuard Errors & Solutions

#### Error 1: ClassNotFoundException in Release Build
```
java.lang.ClassNotFoundException: com.getpos.getpos.models.User
Cause: ProGuard removed or renamed the class.
Fix:
proguard-keep class com.getpos.getpos.models.User { *; }

# Or keep all models
-keep class com.getpos.getpos.models.** { *; }
```

#### Error 2: JSON Parsing Fails
```
Expected BEGIN_OBJECT but was STRING at line 1 column 1
Cause: Field names were obfuscated.
Before obfuscation:
kotlindata class User(
    @SerializedName("name") val name: String,
    @SerializedName("age") val age: Int
)

// JSON: {"name": "John", "age": 30}
After obfuscation:
kotlindata class a(
    @SerializedName("name") val b: String,  // Field renamed!
    @SerializedName("age") val c: Int
)

// Still looking for {"name": "John"} but field is now "b"
Fix:
proguard-keepclassmembers class * {
    @com.google.gson.annotations.SerializedName <fields>;
}

# Keep model classes
-keep class com.getpos.getpos.models.** { *; }
```

#### Error 3: Method Does Not Exist
```
java.lang.NoSuchMethodException: getUserData
Cause: Method was renamed or removed.
Fix:
proguard-keepclassmembers class com.getpos.getpos.ApiService {
    public <methods>;
}
```

#### Error 4: Native Method Error
```
java.lang.UnsatisfiedLinkError: No implementation found for native method
Cause: Native method signature was changed.
Fix:
proguard-keepclasseswithmembernames class * {
    native <methods>;
}
Testing ProGuard Rules
1. Build release APK:
bashcd android
./gradlew assembleRelease
```

**2. Check mapping file:**
```
android/app/build/outputs/mapping/release/mapping.txt
```
```
com.getpos.getpos.models.User -> a:
    java.lang.String name -> b
    int age -> c
    java.lang.String getName() -> d
    void setName(java.lang.String) -> e
3. Decode crash stack trace:
bash# If app crashes in production
retrace.bat mapping.txt crash_stacktrace.txt

# Output shows original class/method names
ProGuard vs R8
FeatureProGuardR8SpeedSlower2x fasterShrinkingGoodBetterObfuscationGoodSameDefaultOld projectsNew projectsConfigproguard-rules.proSame file
Enable R8:
properties# gradle.properties
android.enableR8=true
android.enableR8.fullMode=true
```

---

<div id="signing"></div>

## ğŸ” Signing & Security Files

## ğŸ“„ key.properties

**Location:** `android/key.properties`

**âš ï¸ CRITICAL:** This file contains SECRETS! Add to `.gitignore`!

### What is App Signing?

**Simple Analogy:**
```
Physical World          Digital World
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Signature on contract â†’ Digital signature on APK
Proves it's really you â†’ Proves app is from you
Why needed:

Identity: Proves you made this app
Updates: Only you can update your app
Security: Prevents tampering
Play Store: Required for publishing

Complete key.properties
properties# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Continue1:07 AMKEYSTORE LOCATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Absolute path to keystore file
storeFile=/Users/yourname/Documents/keys/upload-keystore.jks
OR relative to android/ folder
storeFile=../upload-keystore.jks
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
KEYSTORE CREDENTIALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Password for the keystore file itself
storePassword=MyVerySecretPassword123!
Alias (name) of the key inside keystore
keyAlias=upload
Password for the specific key
keyPassword=MyKeyPassword456!

### Creating a Keystore (Step-by-Step)

**Method 1: Command Line (keytool)**
```bash
# Navigate to a secure location
cd ~/Documents/keys/

# Generate keystore
keytool -genkey -v \
  -keystore upload-keystore.jks \
  -keyalg RSA \
  -keysize 2048 \
  -validity 10000 \
  -alias upload

# Prompts will appear:
```
Enter keystore password: [Type a strong password]
Re-enter new password: [Type again]
What is your first and last name?
[Unknown]: John Doe
What is the name of your organizational unit?
[Unknown]: Mobile Development
What is the name of your organization?
[Unknown]: GetPos Inc
What is the name of your City or Locality?
[Unknown]: San Francisco
What is the name of your State or Province?
[Unknown]: California
What is the two-letter country code for this unit?
[Unknown]: US
Is CN=John Doe, OU=Mobile Development, O=GetPos Inc,
L=San Francisco, ST=California, C=US correct?
[no]: yes
Generating 2,048 bit RSA key pair and self-signed certificate (SHA256withRSA)
with a validity of 10,000 days for: CN=John Doe, OU=Mobile Development...
Enter key password for <upload>
(RETURN if same as keystore password): [Press Enter or type different password]
[Storing upload-keystore.jks]

**Method 2: Android Studio**

Build â†’ Generate Signed Bundle / APK
Create new keystore
Fill in details
Save keystore file


### Configuring build.gradle to Use Keystore
```gradle
// android/app/build.gradle

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LOAD KEY PROPERTIES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
def keystoreProperties = new Properties()
def keystorePropertiesFile = rootProject.file('key.properties')

if (keystorePropertiesFile.exists()) {
    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))
}

android {
    // ...
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SIGNING CONFIGURATIONS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    signingConfigs {
        release {
            if (keystorePropertiesFile.exists()) {
                keyAlias keystoreProperties['keyAlias']
                keyPassword keystoreProperties['keyPassword']
                storeFile file(keystoreProperties['storeFile'])
                storePassword keystoreProperties['storePassword']
            }
        }
        
        // Optional: Debug signing (auto-generated)
        debug {
            storeFile file("debug.keystore")
            storePassword "android"
            keyAlias "androiddebugkey"
            keyPassword "android"
        }
    }
    
    buildTypes {
        release {
            signingConfig signingConfigs.release
            // ...
        }
        
        debug {
            signingConfig signingConfigs.debug
        }
    }
}
```

### Building Signed APK/AAB

**APK (Android Package):**
```bash
# Build signed APK
flutter build apk --release

# Output: build/app/outputs/flutter-apk/app-release.apk
```

**AAB (Android App Bundle) - Recommended for Play Store:**
```bash
# Build signed AAB
flutter build appbundle --release

# Output: build/app/outputs/bundle/release/app-release.aab
```

**Size comparison:**
APK:  50 MB â†’ User downloads 50 MB
AAB:  50 MB â†’ User downloads 30 MB (Play Store optimizes!)

### Verifying APK Signature
```bash
# Check if APK is signed
jarsigner -verify -verbose -certs app-release.apk

# Output:
sm     11664 Fri Dec 30 12:00:00 IST 2025 META-INF/MANIFEST.MF
       11816 Fri Dec 30 12:00:00 IST 2025 META-INF/CERT.SF
        1234 Fri Dec 30 12:00:00 IST 2025 META-INF/CERT.RSA

  X.509, CN=John Doe, OU=Mobile Development, O=GetPos Inc...
  [certificate is valid from 12/30/25 to 6/27/53]

jar verified.
```

### Security Best Practices

#### 1. Never Commit Secrets to Git
```bash
# .gitignore
key.properties
*.jks
*.keystore
upload-keystore.jks
```

#### 2. Backup Keystore Securely

**âŒ Bad:**
- Email to yourself
- Upload to public GitHub
- Store in Downloads folder

**âœ… Good:**
- Password manager (1Password, LastPass)
- Encrypted USB drive
- Company secure server
- Multiple encrypted backups

#### 3. Use Environment Variables (CI/CD)
```bash
# GitHub Actions / GitLab CI
echo "storePassword=${{ secrets.KEYSTORE_PASSWORD }}" >> key.properties
echo "keyPassword=${{ secrets.KEY_PASSWORD }}" >> key.properties
echo "keyAlias=${{ secrets.KEY_ALIAS }}" >> key.properties
echo "storeFile=../upload-keystore.jks" >> key.properties
```

#### 4. Separate Debug and Release Keys
Debug Key (auto-generated):
â”œâ”€ Password: "android"
â”œâ”€ Alias: "androiddebugkey"
â””â”€ Shared by all developers
Release Key (your custom key):
â”œâ”€ Password: Strong password
â”œâ”€ Alias: "upload"
â””â”€ Keep SECRET!

### What If You Lose Your Keystore?

**Scenario: Lost keystore file**
âŒ Cannot update existing app on Play Store
âŒ Must create new app listing
âŒ Lose all reviews, ratings, downloads

**Google Play App Signing (Recommended):**

You create "upload key" (can be reset)
Google creates "app signing key" (permanent)
If you lose upload key â†’ Request new one from Google
App signing key stays safe with Google


**Enable Play App Signing:**

Play Console â†’ Setup â†’ App signing
Let Google manage your app signing key
Upload your APK/AAB signed with upload key


---

<div id="cache"></div>

## ğŸ—‚ï¸ Cache & Generated Files

## ğŸ“ .gradle/ Folder

**Location:** `android/.gradle/`

**Purpose:** Gradle's internal cache and build metadata.

### What's Inside
.gradle/
â”œâ”€â”€ 8.4/                        # Gradle version
â”‚   â”œâ”€â”€ checksums/              # Verify downloaded files
â”‚   â”‚   â””â”€â”€ checksums.bin
â”‚   â”œâ”€â”€ dependencies-accessors/ # Fast dependency lookup
â”‚   â”œâ”€â”€ executionHistory/       # What ran in previous builds
â”‚   â”‚   â”œâ”€â”€ executionHistory.bin
â”‚   â”‚   â””â”€â”€ executionHistory.lock
â”‚   â”œâ”€â”€ fileChanges/            # Track changed files
â”‚   â”‚   â””â”€â”€ last-build.bin
â”‚   â”œâ”€â”€ fileHashes/             # Quick file comparison
â”‚   â”‚   â”œâ”€â”€ fileHashes.bin
â”‚   â”‚   â””â”€â”€ fileHashes.lock
â”‚   â””â”€â”€ vcsMetadata/            # Git/VCS information
â”œâ”€â”€ buildOutputCleanup/         # Cleanup tracking
â”‚   â”œâ”€â”€ buildOutputCleanup.lock
â”‚   â”œâ”€â”€ cache.properties
â”‚   â””â”€â”€ outputFiles.bin
â””â”€â”€ vcs-1/                      # Version control cache
â”œâ”€â”€ gc.properties
â””â”€â”€ file-system.probe

### When to Delete

**Symptoms:**
- Build fails with weird errors
- "Daemon disappeared unexpectedly"
- "Could not resolve dependencies"
- Build takes forever

**Solution:**
```bash
# Stop Gradle daemon
cd android
./gradlew --stop

# Delete cache
rm -rf .gradle/

# Clean and rebuild
./gradlew clean
cd ..
flutter clean
flutter pub get
flutter build apk
```

**What gets regenerated:**
.gradle/ folder (automatically)
â”œâ”€ Downloads dependencies again
â”œâ”€ Recalculates hashes
â””â”€ Rebuilds execution history

## ğŸ“ build/ Folder

**Location:** `android/build/` and `android/app/build/`

**Purpose:** Compiled outputs and intermediate files.

### Structure
build/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ intermediates/          # Intermediate build files
â”‚   â”‚   â”œâ”€â”€ javac/              # Compiled Java/Kotlin
â”‚   â”‚   â”œâ”€â”€ merged_res/         # Merged resources
â”‚   â”‚   â”œâ”€â”€ merged_manifests/   # Merged manifests
â”‚   â”‚   â””â”€â”€ dex/                # DEX files (Android bytecode)
â”‚   â”œâ”€â”€ generated/              # Auto-generated code
â”‚   â”‚   â”œâ”€â”€ source/
â”‚   â”‚   â”‚   â”œâ”€â”€ buildConfig/    # BuildConfig.java
â”‚   â”‚   â”‚   â””â”€â”€ r/              # R.java (resource IDs)
â”‚   â”‚   â””â”€â”€ res/
â”‚   â”œâ”€â”€ outputs/                # Final outputs
â”‚   â”‚   â”œâ”€â”€ apk/
â”‚   â”‚   â”‚   â”œâ”€â”€ debug/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ app-debug.apk       â† Your debug APK
â”‚   â”‚   â”‚   â””â”€â”€ release/
â”‚   â”‚   â”‚       â””â”€â”€ app-release.apk     â† Your release APK
â”‚   â”‚   â”œâ”€â”€ bundle/
â”‚   â”‚   â”‚   â””â”€â”€ release/
â”‚   â”‚   â”‚       â””â”€â”€ app-release.aab     â† App Bundle
â”‚   â”‚   â”œâ”€â”€ logs/
â”‚   â”‚   â”‚   â””â”€â”€ manifest-merger-release-report.txt
â”‚   â”‚   â””â”€â”€ mapping/
â”‚   â”‚       â””â”€â”€ release/
â”‚   â”‚           â”œâ”€â”€ mapping.txt         â† ProGuard mapping
â”‚   â”‚           â”œâ”€â”€ seeds.txt           â† Kept classes
â”‚   â”‚           â””â”€â”€ usage.txt           â† Removed classes
â”‚   â””â”€â”€ tmp/                    # Temporary files
â””â”€â”€ kotlin/                     # Kotlin compiler cache

### Important Files

#### BuildConfig.java (Generated)
```java
// build/app/generated/source/buildConfig/release/com/getpos/getpos/BuildConfig.java

public final class BuildConfig {
  public static final boolean DEBUG = false;
  public static final String APPLICATION_ID = "com.getpos.getpos";
  public static final String BUILD_TYPE = "release";
  public static final int VERSION_CODE = 1;
  public static final String VERSION_NAME = "1.0";
  
  // Custom fields from build.gradle
  public static final String API_URL = "https://api.production.com";
  public static final boolean DEBUG_MODE = false;
}
```

**Usage in Kotlin:**
```kotlin
// MainActivity.kt
if (BuildConfig.DEBUG) {
    Log.d("API", "Using: ${BuildConfig.API_URL}")
}
```

#### R.java (Generated)
```java
// build/app/generated/source/r/release/com/getpos/getpos/R.java

public final class R {
    public static final class drawable {
        public static final int ic_launcher = 0x7f020000;
        public static final int splash_image = 0x7f020001;
    }
    
    public static final class string {
        public static final int app_name = 0x7f030000;
    }
    
    public static final class mipmap {
        public static final int ic_launcher = 0x7f040000;
    }
}
```

**Usage:**
```kotlin
// Access resources
val appName = getString(R.string.app_name)
val icon = getDrawable(R.drawable.ic_launcher)
```

### When to Delete
```bash
# Clean build folder
cd android
./gradlew clean

# OR delete manually
rm -rf build/

# Flutter also cleans it
flutter clean
```

**What gets regenerated:**
- All intermediate files
- Compiled classes
- DEX files
- Final APK/AAB

**When to clean:**
- Switching branches
- After updating dependencies
- Build behaving strangely
- Before release build

### Build Folder Size
Typical sizes:
â”œâ”€ Debug build:   500 MB - 2 GB
â””â”€ Release build: 200 MB - 1 GB
Large project:    5 GB+

**Disk space issues:**
```bash
# Check size
du -sh build/
# Output: 1.5G

# Clean
flutter clean
./gradlew clean

# Free space!
```

## ğŸ“„ local.properties

**Location:** `android/local.properties`

**Purpose:** Local machine-specific paths (NOT committed to Git).

### Contents
```properties
## This file must *NOT* be checked into Version Control Systems,
## as it contains information specific to your local configuration.

# Location of the Android SDK
sdk.dir=/Users/yourname/Library/Android/sdk

# Location of the Flutter SDK
flutter.sdk=/Users/yourname/development/flutter

# Location of the Android NDK (if needed for C++ code)
ndk.dir=/Users/yourname/Library/Android/sdk/ndk/21.4.7075529
```

### Why It's Gitignored

**Your machine:**
```properties
sdk.dir=/Users/alice/Library/Android/sdk
```

**Teammate's machine:**
```properties
sdk.dir=C:\Users\bob\AppData\Local\Android\Sdk
```

**CI/CD server:**
```properties
sdk.dir=/opt/android-sdk
```

**Different paths = Must be generated locally!**

### Auto-Generation
```bash
# Delete it
rm android/local.properties

# Run any Flutter command
flutter build apk

# File is recreated automatically!
```

**Flutter detects SDK locations from:**
1. `$ANDROID_HOME` environment variable
2. Default installation paths
3. Android Studio settings

---

<div id="troubleshooting"></div>

## ğŸ› Comprehensive Troubleshooting Guide

### Problem 1: Build Fails with "Duplicate Class"
Duplicate class com.google.common.util.concurrent.ListenableFuture found in modules:

guava-26.0-android.jar
listenablefuture-1.0.jar


**Cause:** Multiple libraries include the same class.

**Solution:**
```gradle
// android/app/build.gradle
android {
    configurations.all {
        resolutionStrategy {
            // Force specific version
            force 'com.google.guava:guava:28.0-android'
        }
    }
}
```

---

### Problem 2: "Manifest Merger Failed"
Manifest merger failed : Attribute application@appComponentFactory value=(androidx.core.app.CoreComponentFactory)

**Cause:** Mixing old support libraries with AndroidX.

**Solution:**
```properties
# android/gradle.properties
android.useAndroidX=true
android.enableJetifier=true
```
```bash
# Clean and rebuild
flutter clean
cd android
./gradlew clean
cd ..
flutter pub get
flutter build apk
```

---

### Problem 3: "Min SDK Version" Error
The minSdk Human: Continueif any thing left, continue1:08 AMThe minSdkVersion (21) specified in the build.gradle is lower than the minSdkVersion (23) specified in the library's manifest.
Cause: Plugin requires higher Android version than your app.
Solution:
gradle// android/app/build.gradle
android {
    defaultConfig {
        minSdk 23  // Increase to match requirement
        targetSdk 34
    }
}
Check plugin requirements:
yaml# pubspec.yaml - Check plugin's README
dependencies:
  some_plugin: ^1.0.0  # Requires minSdk 23
```

---

### Problem 4: "OutOfMemoryError"
```
Expiring Daemon because JVM heap space is exhausted
OutOfMemoryError: Java heap space
Solution:
properties# android/gradle.properties
org.gradle.jvmargs=-Xmx4096m  # Increase from 2GB to 4GB

# If still not enough
org.gradle.jvmargs=-Xmx8192m  # 8GB (if you have 16GB+ RAM)
```

---

### Problem 5: "Gradle Daemon Disappeared"
```
Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)
Solution:
bash# 1. Stop daemon
cd android
./gradlew --stop

# 2. Delete cache
rm -rf .gradle/

# 3. Rebuild
./gradlew clean
cd ..
flutter clean
flutter pub get
flutter build apk
```

---

### Problem 6: "Could Not Resolve Dependency"
```
Could not resolve com.google.firebase:firebase-core:21.0.0
Solution:
gradle// android/build.gradle (project-level)
allprojects {
    repositories {
        google()        // Make sure this exists!
        mavenCentral()
    }
}
bash# Also try clearing cache
cd android
./gradlew --refresh-dependencies
```

---

### Problem 7: Release Build Crashes, Debug Works
```
java.lang.ClassNotFoundException: com.getpos.getpos.models.User
Cause: ProGuard removed or renamed classes.
Solution:
proguard# android/app/proguard-rules.pro

# Keep all model classes
-keep class com.getpos.getpos.models.** { *; }

# Keep classes with @Keep annotation
-keep @androidx.annotation.Keep class * { *; }
```

---

### Problem 8: "android:exported" Error (Android 12+)
```
Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified
Solution:
xml<!-- android/app/src/main/AndroidManifest.xml -->
<activity
    android:name=".MainActivity"
    android:exported="true">  <!-- Add this! -->
    <intent-filter>
        <action android:name="android.intent.action.MAIN"/>
        <category android:name="android.intent.category.LAUNCHER"/>
    </intent-filter>
</activity>
```

---

### Problem 9: "Multidex" Error
```
Cannot fit requested classes in a single dex file (# methods: 72345 > 65536)
Cause: Too many methods (over 64K limit).
Solution:
gradle// android/app/build.gradle
android {
    defaultConfig {
        multiDexEnabled true  // Enable multidex
    }
}

dependencies {
    implementation 'androidx.multidex:multidex:2.0.1'
}
kotlin// MainActivity.kt (if needed)
class MyApplication : MultiDexApplication() {
    // ...
}
xml<!-- AndroidManifest.xml -->
<application
    android:name=".MyApplication">  <!-- Use custom application -->
```

---

### Problem 10: Plugin Not Working
```
MissingPluginException(No implementation found for method XXX on channel YYY)
Solution:
bash# 1. Clean everything
flutter clean
cd android
./gradlew clean
cd ..

# 2. Get dependencies
flutter pub get

# 3. Check plugin registration
cat android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java

# 4. Rebuild
flutter build apk
```

---

### Problem 11: Signing Error
```
jarsigner: unable to sign jar: java.util.zip.ZipException: invalid entry compressed size
Solution:
bash# 1. Verify keystore is valid
keytool -list -v -keystore upload-keystore.jks

# 2. Recreate if corrupted
keytool -genkey -v -keystore new-keystore.jks ...

# 3. Update key.properties
```

---

### Problem 12: Permission Denied (gradlew)
```
bash: ./gradlew: Permission denied
Solution:
bash# Make gradlew executable
chmod +x android/gradlew

# Now run
cd android
./gradlew assembleDebug
```

---

### Problem 13: "AAPT2 Error"
```
AAPT2 error: check logs for details
Cause: Resource compilation error (usually PNG/XML issues).
Solution:
bash# 1. Check logs
cd android
./gradlew assembleDebug --stacktrace

# 2. Clean resources
rm -rf build/
./gradlew clean

# 3. Check for corrupted images in res/
# Look for:
# - Invalid PNG files
# - Malformed XML files
# - Special characters in filenames
```

---

### Problem 14: Kotlin Version Mismatch
```
Module was compiled with an incompatible version of Kotlin.
Solution:
gradle// android/build.gradle (project-level)
buildscript {
    ext.kotlin_version = '1.9.22'  // Update to latest
}

dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
}

ğŸ” Debugging Commands Cheat Sheet
bash# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# GRADLE COMMANDS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Check Gradle version
./gradlew --version

# List all tasks
./gradlew tasks

# Build debug APK
./gradlew assembleDebug

# Build release APK
./gradlew assembleRelease

# Install debug APK to device
./gradlew installDebug

# Clean build files
./gradlew clean

# Rebuild everything
./gradlew clean assembleDebug

# Show dependencies
./gradlew :app:dependencies

# Show dependency tree
./gradlew :app:dependencies --configuration releaseRuntimeClasspath

# Check for dependency updates
./gradlew dependencyUpdates

# Show build info
./gradlew --info assembleDebug

# Show detailed errors
./gradlew assembleDebug --stacktrace

# Stop Gradle daemon
./gradlew --stop

# Refresh dependencies
./gradlew --refresh-dependencies

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# FLUTTER COMMANDS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Clean Flutter build
flutter clean

# Get dependencies
flutter pub get

# Upgrade dependencies
flutter pub upgrade

# Build APK
flutter build apk

# Build App Bundle
flutter build appbundle

# Build split APKs (smaller downloads)
flutter build apk --split-per-abi

# Build release APK with verbose output
flutter build apk --release -v

# Run on device
flutter run

# Run in release mode
flutter run --release

# Check for issues
flutter doctor

# Detailed check
flutter doctor -v

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ANDROID DEBUG BRIDGE (ADB)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# List connected devices
adb devices

# Install APK
adb install app-release.apk

# Uninstall app
adb uninstall com.getpos.getpos

# View logs
adb logcat

# Filter logs by app
adb logcat | grep "com.getpos"

# Clear logs
adb logcat -c

# Take screenshot
adb exec-out screencap -p > screenshot.png

# Record screen
adb shell screenrecord /sdcard/demo.mp4

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# KEYTOOL COMMANDS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Generate keystore
keytool -genkey -v -keystore upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload

# List keystore contents
keytool -list -v -keystore upload-keystore.jks

# Get SHA-1 fingerprint (for Firebase)
keytool -list -v -keystore upload-keystore.jks -alias upload

# Change keystore password
keytool -storepasswd -keystore upload-keystore.jks

# Change key password
keytool -keypasswd -keystore upload-keystore.jks -alias upload

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# JARSIGNER COMMANDS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Verify APK signature
jarsigner -verify -verbose -certs app-release.apk

# Sign APK manually
jarsigner -verbose -sigalg SHA256withRSA -digestalg SHA-256 -keystore upload-keystore.jks app-release.apk upload

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# APKANALYZER COMMANDS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Show APK contents
apkanalyzer apk summary app-release.apk

# Show file sizes
apkanalyzer apk file-size app-release.apk

# Show method count
apkanalyzer dex packages app-release.apk

# Compare two APKs
apkanalyzer apk compare app-v1.apk app-v2.apk

ğŸ“š Quick Reference Tables
File Edit Frequency
FileEdit Often?Can Delete?Regenerates?build.gradle (project)SometimesâŒ NoâŒ Nobuild.gradle (app)OftenâŒ NoâŒ Nosettings.gradleRarelyâŒ NoâŒ Nogradle.propertiesRarelyâŒ NoâŒ Nolocal.propertiesNeverâœ… Yesâœ… Yeskey.propertiesOnceâŒ No (BACKUP!)âŒ NoMainActivity.ktSometimesâŒ NoâŒ NoAndroidManifest.xmlSometimesâŒ NoâŒ Noproguard-rules.proRarelyâš ï¸ Needed for releaseâŒ No.gradle/ folderNeverâœ… Yesâœ… Yesbuild/ folderNeverâœ… Yesâœ… YesgradlewNeverâŒ NoâŒ Nogradle-wrapper.propertiesRarelyâŒ NoâŒ No
Common SDK Versions
API LevelAndroid VersionRelease YearMarket Share215.0 Lollipop201499%+236.0 Marshmallow201598%+247.0 Nougat201696%+268.0 Oreo201795%+289.0 Pie201892%+2910201987%+3011202080%+3112202160%+3313202235%+3414202315%+
Permission Categories
PermissionCategoryAndroid VersionUser PromptINTERNETNormalAllNoVIBRATENormalAllNoACCESS_NETWORK_STATENormalAllNoCAMERADangerous6.0+YesLOCATIONDangerous6.0+YesSTORAGEDangerous6.0-12YesREAD_MEDIA_*Dangerous13+YesRECORD_AUDIODangerous6.0+YesREAD_CONTACTSDangerous6.0+YesPOST_NOTIFICATIONSDangerous13+YesBLUETOOTH_CONNECTDangerous12+Yes

ğŸ“ Learning Path for Beginners
Week 1: Foundation

âœ… Understand project structure
âœ… Learn what each folder does
âœ… Identify which files to edit vs ignore

Week 2: Build System

âœ… Master build.gradle files
âœ… Understand Gradle wrapper
âœ… Learn dependency management

Week 3: Configuration

âœ… Configure AndroidManifest.xml
âœ… Add permissions
âœ… Setup deep linking

Week 4: Native Code

âœ… Understand MainActivity.kt
âœ… Create method channels
âœ… Call native Android APIs

Week 5: Release

âœ… Generate keystore
âœ… Configure ProGuard
âœ… Build signed APK/AAB

Week 6: Debugging

âœ… Read error messages
âœ… Use Gradle commands
âœ… Fix common issues


ğŸ¯ Best Practices Summary
DO âœ…

Always backup keystore files

bash   # Multiple backups!
   cp upload-keystore.jks ~/Dropbox/keys/
   cp upload-keystore.jks /secure-server/backups/

Use version variables

gradle   ext {
       kotlin_version = '1.9.22'
       compileSdk = 34
       minSdk = 21
   }
```

3. **Add to .gitignore**
```
   key.properties
   *.jks
   *.keystore
   local.properties

Test release builds

bash   flutter build apk --release
   # Test on real device!

Keep ProGuard rules updated

proguard   # Add rules as you add libraries
   -keep class com.newlibrary.** { *; }
DON'T âŒ

Never commit secrets

bash   # BAD! Don't do this:
   git add key.properties
   git add upload-keystore.jks
```

2. **Don't ignore warnings**
```
   # This warning matters!
   Warning: The minSdk version should not be declared in manifest...

Don't use implementation everywhere

gradle   # Use specific scopes
   testImplementation 'junit:junit:4.13.2'
   debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.12'

Don't skip ProGuard testing

bash   # Always test release build before publishing!
   flutter build apk --release
   adb install build/app/outputs/flutter-apk/app-release.apk
```

5. **Don't manually edit generated files**
```
   âŒ BuildConfig.java
   âŒ R.java
   âŒ GeneratedPluginRegistrant.java
```

---

## ğŸš€ Production Checklist

Before releasing to Play Store:
```
âœ… Updated version in pubspec.yaml
âœ… Updated versionCode and versionName in build.gradle
âœ… Tested release build on real devices
âœ… Verified ProGuard rules (app doesn't crash)
âœ… Checked APK size (< 100 MB recommended)
âœ… Removed debug logs from code
âœ… Updated app icon and splash screen
âœ… Configured proper permissions in AndroidManifest.xml
âœ… Added privacy policy (if collecting data)
âœ… Tested deep links / web links
âœ… Verified keystore backup exists
âœ… Tested on multiple Android versions
âœ… Checked for memory leaks
âœ… Optimized images and resources
âœ… Enabled R8 full mode
âœ… Generated signed AAB (not APK)

ğŸ“– Additional Resources
Official Documentation

Android Developer Guide
Gradle User Manual
Flutter Android Setup
ProGuard Manual

Useful Tools

Android Studio - IDE with visual tools
APK Analyzer - Inspect APK contents
Scrcpy - Mirror Android screen
Vysor - Control Android from computer

Community

Stack Overflow - Q&A
Flutter Discord - Real-time help
Reddit r/FlutterDev - Discussions


ğŸ‰ Conclusion
You now have a complete understanding of every file in the Android folder!
Remember:

Gradle builds your app
Manifest declares what your app needs
MainActivity is the entry point
ProGuard protects your code
Keystore signs your app

Next Steps:

Explore the files in your own project
Try modifying build.gradle to add a library
Create a method channel in MainActivity.kt
Generate a keystore and build a signed APK
Configure ProGuard for a plugin

